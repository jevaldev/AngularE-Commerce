<ion-header [translucent]="true">
  <app-header />
</ion-header>

<ion-content [fullscreen]="true">
  <main>
    <ion-buttons slot="start">
      <ion-back-button text="Volver" defaultHref="/home"></ion-back-button>
    </ion-buttons>
    <div class="wrapper">
      <img [src]="product.imgName" alt="" />
      <section>
        <h2>{{product.product}} <span>{{product.brand}}</span></h2>
        <h4 class="Precio">${{product.price}} mxn</h4>
        <small>Contenido: {{product.quantity}}</small>
        <div class="buttons">
          <form action="" #form="ngForm" (ngSubmit)="addToCart(form)">
            <label for="quantity">Cantidad</label>
            <input
              type="text"
              id="quantity"
              name="quantity"
              placeholder="1"
              pattern="^[0-9]*$"
              [(ngModel)]="quantity"
              (keyup)="filterNumbers()"
            />
            <ion-button type="submit" class="call-to-action" [disabled]="form.invalid"> AÃ±adir al carrito </ion-button>
            <ion-button> Comprar </ion-button>
            <div *ngIf="errorForm" class="error-message">
              {{errorForm}}
            </div>
          </form>
        </div>
      </section>
    </div>

    <h3>Recetas recomendadas con {{product.product}}</h3>
    <div class="container-grid">
      <article *ngFor="let meal of meals">
        <img [src]="meal.strMealThumb" alt="" />
        <h4>{{meal.strMeal}}</h4>
        <ion-button [routerLink]="['/recipes/recipe', meal.idMeal]">
          Ver receta
        </ion-button>
      </article>
    </div>
  </main>
</ion-content>
